<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script>
      window.addEventListener("DOMContentLoaded", function () {
        //변수
        const $timeForm = document.getElementById("timeForm");
        const $inputs = document.getElementsByTagName("input"); //input 모음
        const $timetexts = document.getElementsByTagName("span"); //span(시간표시) 모음

        //누르면 disabled로 하고 input값-배열화해서 전달.
        $timeForm.addEventListener("submit", function () {
          const timeArr = [3600, 60, 1];
          for (let i = 0; i < $inputs.length; i++) {
            $inputs.item(i).setAttribute("disabled", true);
            timeArr[i] *= Number($inputs.item(i).value);
            $timetexts.item(i).textContent = $inputs.item(i).value;
          }
          result(timeArr);
        });

        //데이터와 시간을 받으면 해당 단위대로 실행하는 함수
        const result = (timeArr) => {
          let totalsec = timeArr.reduce((a, b) => a + b);
          let timeId = setInterval(() => {
            totalsec--;
            let hour = Math.floor(totalsec / 3600);
            let min = Math.floor((totalsec % 3600) / 60);
            let sec = Math.floor((totalsec % 3600) % 60);
          }, 1000);
          setTimeout(() => {
            clearInterval(timeId);
          }, totalsec * 1000);
        };

        //리셋

        //재시작
      });
    </script>
    <title>Timer</title>
  </head>
  <body class="flex flex-col items-center justify-center bg-gray-300">
    <div class="w-1/2 h-screen text-center">
      <h1 class="text-3xl my-4">타이머</h1>
      <form id="timeForm" onsubmit="return false;">
        <label
          ><input
            id="test"
            type="number"
            min="0"
            max="23"
            placeholder="시"
            required
          />시</label
        >
        <label
          ><input
            type="number"
            min="0"
            max="59"
            placeholder="분"
            required
          />분</label
        >
        <label
          ><input
            type="number"
            min="0"
            max="59"
            placeholder="초"
            required
          />초</label
        >
        <button type="submit">시작</button>
      </form>
      <div class="mt-3 text-center text-lg">
        <button id="stopBtn">중지</button>
        <button id="restartBtn">재시작</button>
        <button id="resetBtn">리셋</button>
      </div>
      <div class="w-96 h-32 mt-3 bg-white text-6xl" id="timeContainer">
        <span class="mr-3" id="hour"></span>
        <span class="mr-3" id="min"></span>
        <span class="mr-3" id="second"></span>
      </div>
    </div>
  </body>
</html>
